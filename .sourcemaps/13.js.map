{"version":3,"sources":["../../src/pages/newrecipe/newrecipe.module.ts","../../src/pages/newrecipe/newrecipe.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AAaxC,IAAa,eAAe;IAA5B;IAA8B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAlB,eAAe;IAX3B,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6DAAS;SACV;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,6DAAS,CAAC;SACpC;QACD,OAAO,EAAE;YACP,6DAAS;SACV;KACF,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACfsB;AACkB;AACoB;AAC3B;AAC7D;;;;;GAKG;AAMH,IAAa,SAAS;IAOpB,mBAAmB,OAAsB,EAAS,SAAoB,EAAS,IAAY,EAAS,MAAc,EAAS,EAAY;QAApH,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,SAAI,GAAJ,IAAI,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAQ;QAAS,OAAE,GAAF,EAAE,CAAU;QACrI,IAAI,CAAC,IAAI,GAAS,EAAE,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,WAAW,GAAG,IAAI,KAAK,EAAc,CAAC;QAC3C,IAAI,CAAC,QAAQ,GAAG,IAAI,qEAAQ,EAAE,CAAC;QAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,uEAAU,EAAE,CAAC;QAE9B,IAAI,CAAC,MAAM,GAAG,IAAI,mEAAM,EAAE,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;QAE/B,IAAI,CAAC,SAAS,GAAe,EAAE,CAAC,YAAY,EAAE,CAAC;IACjD,CAAC;IAED,kCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAC1C,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAsBC;QArBC,IAAM,OAAO,GAAkB;YAC7B,OAAO,EAAE,GAAG;YACZ,UAAU,EAAE,CAAC;YACb,eAAe,EAAE,CAAC;YAClB,SAAS,EAAE,IAAI;YACf,kBAAkB,EAAE,IAAI;YACxB,WAAW,EAAE,GAAG;YAChB,YAAY,EAAE,GAAG;YACjB,YAAY,EAAE,CAAC;SAChB;QAED,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,SAAS;YAC7C,4DAA4D;YAC5D,kBAAkB;YAClB,IAAI,WAAW,GAAG,6BAA6B,GAAG,SAAS,GAAG,GAAG,CAAC;YAClE,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBACZ,KAAI,CAAC,MAAM,CAAC,KAAK,GAAG,WAAW,CAAC;YAClC,CAAC,CAAC,CAAC;QACL,CAAC,EAAE,UAAC,GAAG;YACL,eAAe;QACjB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kCAAc,GAAd;IAEA,CAAC;IAED,uBAAG,GAAH;QACE,IAAI,KAAK,GAAG,IAAI,uEAAU,EAAE,CAAC;QAC7B,IAAI,CAAC,GAAG,IAAI,qEAAQ,EAAE,CAAC;QACvB,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACjD,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;QACrC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;QAE7B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE7B,aAAa;QACb,IAAI,CAAC,QAAQ,GAAG,IAAI,qEAAQ,EAAE,CAAC;QAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,uEAAU,EAAE,CAAC;IAChC,CAAC;IAED,0BAAM,GAAN,UAAO,UAAU;QACf,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC;QACb,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAChD,EAAE,EAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,KAAK,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClE,GAAG,GAAG,CAAC,CAAC;YACV,CAAC;QACH,CAAC;QACD,EAAE,EAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACZ,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAClC,CAAC;IACH,CAAC;IAED,wBAAI,GAAJ;QACE,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IACH,gBAAC;AAAD,CAAC;AApFY,SAAS;IALrB,wEAAS,EAAE;IACX,gEAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;OACG;KAC9B,CAAC;cAQuI;AA6ExI;SApFY,SAAS,mB","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NewRecipe } from './newrecipe';\n\n@NgModule({\n  declarations: [\n    NewRecipe,\n  ],\n  imports: [\n    IonicPageModule.forChild(NewRecipe),\n  ],\n  exports: [\n    NewRecipe\n  ]\n})\nexport class NewrecipeModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/newrecipe/newrecipe.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { User, Recipe, Material, Ingredient, Database } from '../../providers/database';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n/**\n * Generated class for the Newrecipe page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-newrecipe',\n  templateUrl: 'newrecipe.html',\n})\nexport class NewRecipe {\n  recipe: Recipe;\n  user: User;\n  ingredients: Ingredient[];\n  materials: Material[];\n  material: Material;\n  ingre: Ingredient;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public zone: NgZone, public camera: Camera, public db: Database) {\n    this.user = <User>db.getMe();\n    this.ingredients = new Array<Ingredient>();\n    this.material = new Material();\n    this.ingre = new Ingredient();\n\n    this.recipe = new Recipe();\n    this.recipe.liked = true;\n    this.recipe.author = this.user;\n\n    this.materials = <Material[]>db.getMaterials();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Newrecipe');\n  }\n\n  addImage() {\n    const options: CameraOptions = {\n      quality: 100,\n      sourceType: 0,\n      destinationType: 0,\n      allowEdit: true,\n      correctOrientation: true,\n      targetWidth: 600,\n      targetHeight: 300,\n      encodingType: 1\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      // imageData is either a base64 encoded string or a file URI\n      // If it's base64:\n      let base64Image = 'url(data:image/jpeg;base64,' + imageData + ')';\n      this.zone.run(() => {\n        this.recipe.image = base64Image;\n      });\n    }, (err) => {\n      // Handle error\n    });\n  }\n\n  materialChange() {\n\n  }\n\n  add() {\n    let ingre = new Ingredient();\n    let m = new Material();\n    ingre.material = Object.assign(m, this.material);\n    ingre.quantity = this.ingre.quantity;\n    ingre.unit = this.ingre.unit;\n\n    this.ingredients.push(ingre);\n\n    // clear form\n    this.material = new Material();\n    this.ingre = new Ingredient();\n  }\n\n  delete(ingredient) {\n    let pos = -1; \n    for(var i = 0; i < this.ingredients.length; i++) {\n      if(this.ingredients[i].material.name === ingredient.material.name) {\n        pos = i;\n      }\n    }\n    if(pos > -1) {\n      this.ingredients.splice(pos, 1);\n    }\n  }\n\n  send() {\n    this.recipe.ingredients = this.ingredients;\n    console.log(this.recipe);\n    this.db.addRecipe(this.recipe);\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/newrecipe/newrecipe.ts"],"sourceRoot":""}